<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:BingLibrary.Vision.Controls">
    <!--  xmlns:local="clr-namespace:BingLibrary.Vision.Controls">  -->

    <!--  转换器  -->
    <!--<local:StringEqualsVisibilityConverter x:Key="StringEqualsVisibilityConverter" />-->

    <!--  WindowConfigurationControl的样式  -->
    <Style TargetType="{x:Type local:WindowConfigurationControl}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type local:WindowConfigurationControl}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="360" />
                        </Grid.ColumnDefinitions>

                        <!--  布局画布区域  -->
                        <Border
                            Grid.Column="0"
                            Margin="5,5,0,5"
                            Background="White"
                            BorderBrush="#CCCCCC"
                            BorderThickness="1"
                            CornerRadius="4">
                            <Grid>
                                <Canvas
                                    x:Name="PART_Canvas"
                                    Margin="0"
                                    ClipToBounds="True">

                                    <!--  使用ItemsControl动态生成窗口  -->
                                    <ItemsControl ItemsSource="{Binding WindowItems, RelativeSource={RelativeSource TemplatedParent}}">
                                        <ItemsControl.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <Canvas />
                                            </ItemsPanelTemplate>
                                        </ItemsControl.ItemsPanel>
                                        <ItemsControl.ItemContainerStyle>
                                            <Style TargetType="ContentPresenter">
                                                <Setter Property="Canvas.Left" Value="{Binding X}" />
                                                <Setter Property="Canvas.Top" Value="{Binding Y}" />
                                                <Setter Property="Canvas.ZIndex" Value="{Binding ZOrder}" />
                                            </Style>
                                        </ItemsControl.ItemContainerStyle>
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <Grid>
                                                    <!--  窗口主体  -->
                                                    <Border
                                                        Width="{Binding Width}"
                                                        Height="{Binding Height}"
                                                        Background="White"
                                                        BorderBrush="#0078D7"
                                                        BorderThickness="1"
                                                        CornerRadius="4"
                                                        MouseLeftButtonDown="{Binding Path=Window_MouseLeftButtonDown, RelativeSource={RelativeSource AncestorType=local:WindowConfigurationControl}}"
                                                        MouseLeftButtonUp="{Binding Path=Window_MouseLeftButtonUp, RelativeSource={RelativeSource AncestorType=local:WindowConfigurationControl}}"
                                                        MouseMove="{Binding Path=Window_MouseMove, RelativeSource={RelativeSource AncestorType=local:WindowConfigurationControl}}">
                                                        <Grid>
                                                            <TextBlock
                                                                HorizontalAlignment="Center"
                                                                VerticalAlignment="Center"
                                                                Foreground="#555555"
                                                                Text="{Binding Title}" />
                                                            <Button
                                                                Margin="5"
                                                                HorizontalAlignment="Right"
                                                                VerticalAlignment="Top"
                                                                Command="{Binding DeleteWindowCommand, RelativeSource={RelativeSource AncestorType=local:WindowConfigurationControl}}"
                                                                CommandParameter="{Binding}"
                                                                Content="×"
                                                                FontSize="18">
                                                                <Button.Style>
                                                                    <Style TargetType="Button">
                                                                        <Setter Property="Background" Value="Transparent" />
                                                                        <Setter Property="Foreground" Value="#333333" />
                                                                        <Setter Property="Width" Value="32" />
                                                                        <Setter Property="Height" Value="32" />
                                                                        <Setter Property="BorderThickness" Value="0" />
                                                                        <Setter Property="Template">
                                                                            <Setter.Value>
                                                                                <ControlTemplate TargetType="Button">
                                                                                    <Border Background="{TemplateBinding Background}" CornerRadius="16">
                                                                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                                                                                    </Border>
                                                                                    <ControlTemplate.Triggers>
                                                                                        <Trigger Property="IsMouseOver" Value="True">
                                                                                            <Setter Property="Background" Value="#E5E5E5" />
                                                                                            <Setter Property="Foreground" Value="#000000" />
                                                                                        </Trigger>
                                                                                    </ControlTemplate.Triggers>
                                                                                </ControlTemplate>
                                                                            </Setter.Value>
                                                                        </Setter>
                                                                    </Style>
                                                                </Button.Style>
                                                            </Button>
                                                        </Grid>
                                                    </Border>

                                                </Grid>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                </Canvas>

                                <TextBlock
                                    Margin="0,0,0,10"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Bottom"
                                    Foreground="#888888"
                                    Text="拖动窗口调整位置和大小" />
                            </Grid>
                        </Border>

                        <!--  属性面板区域  -->
                        <Border
                            Grid.Column="1"
                            Margin="0,5,5,5"
                            Background="White"
                            BorderBrush="#CCCCCC"
                            BorderThickness="1"
                            CornerRadius="4">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="*" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>

                                <!--  标题区域  -->
                                <Border
                                    Grid.Row="0"
                                    Background="#F5F5F5"
                                    BorderBrush="#E0E0E0"
                                    BorderThickness="0,0,0,1"
                                    CornerRadius="6,6,0,0">
                                    <Grid Margin="12,10">
                                        <TextBlock
                                            FontSize="16"
                                            FontWeight="SemiBold"
                                            Foreground="#333333"
                                            Text="窗口配置" />
                                    </Grid>
                                </Border>

                                <!--  属性设置区域 - 滚动内容  -->
                                <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                                    <StackPanel Margin="15">
                                        <!--  布局预设  -->
                                        <TextBlock
                                            Margin="0,0,0,5"
                                            FontWeight="Medium"
                                            Foreground="#555555"
                                            Text="布局预设" />
                                        <Grid Margin="0,0,0,15">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="Auto" />
                                            </Grid.ColumnDefinitions>

                                            <ComboBox
                                                Grid.Column="0"
                                                Background="White"
                                                BorderBrush="#CCCCCC"
                                                BorderThickness="1"
                                                Foreground="#333333"
                                                ItemsSource="{Binding LayoutPresets, RelativeSource={RelativeSource TemplatedParent}}"
                                                SelectedItem="{Binding SelectedLayoutPreset, RelativeSource={RelativeSource TemplatedParent}}" />
                                            <Button
                                                Grid.Column="1"
                                                Margin="5,0,0,0"
                                                Command="{Binding SaveLayoutCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                                Content="保存">
                                                <Button.Style>
                                                    <Style TargetType="Button">
                                                        <Setter Property="Background" Value="#0078D7" />
                                                        <Setter Property="Foreground" Value="White" />
                                                        <Setter Property="Padding" Value="12,6" />
                                                        <Setter Property="BorderThickness" Value="0" />
                                                        <Setter Property="FontSize" Value="13" />
                                                        <Setter Property="Template">
                                                            <Setter.Value>
                                                                <ControlTemplate TargetType="Button">
                                                                    <Border
                                                                        Padding="{TemplateBinding Padding}"
                                                                        Background="{TemplateBinding Background}"
                                                                        CornerRadius="4">
                                                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                                                                    </Border>
                                                                    <ControlTemplate.Triggers>
                                                                        <Trigger Property="IsMouseOver" Value="True">
                                                                            <Setter Property="Background" Value="#106EBE" />
                                                                        </Trigger>
                                                                        <Trigger Property="IsPressed" Value="True">
                                                                            <Setter Property="Background" Value="#005A9E" />
                                                                        </Trigger>
                                                                    </ControlTemplate.Triggers>
                                                                </ControlTemplate>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Style>
                                                </Button.Style>
                                            </Button>
                                            <Button
                                                Grid.Column="2"
                                                Margin="5,0,0,0"
                                                Command="{Binding LoadLayoutPresetCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                                Content="加载">
                                                <Button.Style>
                                                    <Style TargetType="Button">
                                                        <Setter Property="Background" Value="#0078D7" />
                                                        <Setter Property="Foreground" Value="White" />
                                                        <Setter Property="Padding" Value="12,6" />
                                                        <Setter Property="BorderThickness" Value="0" />
                                                        <Setter Property="FontSize" Value="13" />
                                                        <Setter Property="Template">
                                                            <Setter.Value>
                                                                <ControlTemplate TargetType="Button">
                                                                    <Border
                                                                        Padding="{TemplateBinding Padding}"
                                                                        Background="{TemplateBinding Background}"
                                                                        CornerRadius="4">
                                                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                                                                    </Border>
                                                                    <ControlTemplate.Triggers>
                                                                        <Trigger Property="IsMouseOver" Value="True">
                                                                            <Setter Property="Background" Value="#106EBE" />
                                                                        </Trigger>
                                                                        <Trigger Property="IsPressed" Value="True">
                                                                            <Setter Property="Background" Value="#005A9E" />
                                                                        </Trigger>
                                                                    </ControlTemplate.Triggers>
                                                                </ControlTemplate>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Style>
                                                </Button.Style>
                                            </Button>
                                        </Grid>

                                        <!--  自动生成窗口排布功能  -->
                                        <TextBlock
                                            Margin="0,0,0,5"
                                            FontWeight="Medium"
                                            Foreground="#555555"
                                            Text="自动生成窗口排布" />
                                        <Grid Margin="0,0,0,15">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="Auto" />
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="Auto" />
                                            </Grid.RowDefinitions>

                                            <TextBlock
                                                Grid.Row="0"
                                                Grid.Column="0"
                                                Margin="0,0,10,0"
                                                VerticalAlignment="Center"
                                                Foreground="#555555"
                                                Text="窗口数量:" />
                                            <ComboBox
                                                Grid.Row="0"
                                                Grid.Column="1"
                                                Background="White"
                                                BorderBrush="#CCCCCC"
                                                BorderThickness="1"
                                                Foreground="#333333"
                                                ItemsSource="{Binding WindowCountOptions, RelativeSource={RelativeSource TemplatedParent}}"
                                                SelectedItem="{Binding SelectedWindowCount, RelativeSource={RelativeSource TemplatedParent}}">
                                            </ComboBox>

                                            <TextBlock
                                                Grid.Row="1"
                                                Grid.Column="0"
                                                Margin="0,10,10,0"
                                                VerticalAlignment="Center"
                                                Foreground="#555555"
                                                Text="排布方式:" />
                                            <ComboBox
                                                Grid.Row="1"
                                                Grid.Column="1"
                                                Margin="0,10,0,0"
                                                Background="White"
                                                BorderBrush="#CCCCCC"
                                                BorderThickness="1"
                                                Foreground="#333333"
                                                ItemsSource="{Binding LayoutPatternOptions, RelativeSource={RelativeSource TemplatedParent}}"
                                                SelectedItem="{Binding SelectedLayoutPattern, RelativeSource={RelativeSource TemplatedParent}}">
                                            </ComboBox>

                                            <Button
                                                Grid.Row="0"
                                                Grid.RowSpan="2"
                                                Grid.Column="2"
                                                Margin="5,0,0,0"
                                                VerticalAlignment="Center"
                                                Command="{Binding GenerateWindowsCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                                Content="生成">
                                                <Button.Style>
                                                    <Style TargetType="Button">
                                                        <Setter Property="Background" Value="#0078D7" />
                                                        <Setter Property="Foreground" Value="White" />
                                                        <Setter Property="Padding" Value="12,6" />
                                                        <Setter Property="BorderThickness" Value="0" />
                                                        <Setter Property="FontSize" Value="13" />
                                                        <Setter Property="Template">
                                                            <Setter.Value>
                                                                <ControlTemplate TargetType="Button">
                                                                    <Border
                                                                        Padding="{TemplateBinding Padding}"
                                                                        Background="{TemplateBinding Background}"
                                                                        CornerRadius="4">
                                                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                                                                    </Border>
                                                                    <ControlTemplate.Triggers>
                                                                        <Trigger Property="IsMouseOver" Value="True">
                                                                            <Setter Property="Background" Value="#106EBE" />
                                                                        </Trigger>
                                                                        <Trigger Property="IsPressed" Value="True">
                                                                            <Setter Property="Background" Value="#005A9E" />
                                                                        </Trigger>
                                                                    </ControlTemplate.Triggers>
                                                                </ControlTemplate>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Style>
                                                </Button.Style>
                                            </Button>
                                        </Grid>

                                        <!--  窗口操作按钮  -->
                                        <Grid Margin="0,0,0,15">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <Button
                                                Grid.Column="0"
                                                Margin="0,0,2.5,0"
                                                Background="#2EA44F"
                                                Command="{Binding AddWindowCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                                Content="添加窗口">
                                                <Button.Style>
                                                    <Style TargetType="Button">
                                                        <Setter Property="Background" Value="#2EA44F" />
                                                        <Setter Property="Foreground" Value="White" />
                                                        <Setter Property="Padding" Value="12,6" />
                                                        <Setter Property="BorderThickness" Value="0" />
                                                        <Setter Property="FontSize" Value="13" />
                                                        <Setter Property="Template">
                                                            <Setter.Value>
                                                                <ControlTemplate TargetType="Button">
                                                                    <Border
                                                                        Padding="{TemplateBinding Padding}"
                                                                        Background="{TemplateBinding Background}"
                                                                        CornerRadius="4">
                                                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                                                                    </Border>
                                                                    <ControlTemplate.Triggers>
                                                                        <Trigger Property="IsMouseOver" Value="True">
                                                                            <Setter Property="Background" Value="#2C974B" />
                                                                        </Trigger>
                                                                        <Trigger Property="IsPressed" Value="True">
                                                                            <Setter Property="Background" Value="#288747" />
                                                                        </Trigger>
                                                                    </ControlTemplate.Triggers>
                                                                </ControlTemplate>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Style>
                                                </Button.Style>
                                            </Button>
                                            <Button
                                                Grid.Column="1"
                                                Margin="2.5,0,0,0"
                                                Background="#D73A49"
                                                Command="{Binding DeleteSelectedWindowCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                                Content="删除选中窗口">
                                                <Button.Style>
                                                    <Style TargetType="Button">
                                                        <Setter Property="Background" Value="#D73A49" />
                                                        <Setter Property="Foreground" Value="White" />
                                                        <Setter Property="Padding" Value="12,6" />
                                                        <Setter Property="BorderThickness" Value="0" />
                                                        <Setter Property="FontSize" Value="13" />
                                                        <Setter Property="Template">
                                                            <Setter.Value>
                                                                <ControlTemplate TargetType="Button">
                                                                    <Border
                                                                        Padding="{TemplateBinding Padding}"
                                                                        Background="{TemplateBinding Background}"
                                                                        CornerRadius="4">
                                                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                                                                    </Border>
                                                                    <ControlTemplate.Triggers>
                                                                        <Trigger Property="IsMouseOver" Value="True">
                                                                            <Setter Property="Background" Value="#C53746" />
                                                                        </Trigger>
                                                                        <Trigger Property="IsPressed" Value="True">
                                                                            <Setter Property="Background" Value="#B33442" />
                                                                        </Trigger>
                                                                    </ControlTemplate.Triggers>
                                                                </ControlTemplate>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Style>
                                                </Button.Style>
                                            </Button>
                                        </Grid>

                                        <!--  布局间距设置  -->
                                        <TextBlock
                                            Margin="0,0,0,5"
                                            FontWeight="Medium"
                                            Foreground="#555555"
                                            Text="布局间距设置" />
                                        <Grid Margin="0,0,0,15">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="Auto" />
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="Auto" />
                                            </Grid.RowDefinitions>

                                            <TextBlock
                                                Grid.Row="0"
                                                Grid.Column="0"
                                                Margin="0,0,10,0"
                                                VerticalAlignment="Center"
                                                Foreground="#555555"
                                                Text="水平间距:" />
                                            <Slider
                                                Grid.Row="0"
                                                Grid.Column="1"
                                                Margin="0,5,0,5"
                                                IsSnapToTickEnabled="True"
                                                Maximum="0.1"
                                                Minimum="0"
                                                TickFrequency="0.01"
                                                TickPlacement="BottomRight"
                                                Value="{Binding HorizontalGap, RelativeSource={RelativeSource TemplatedParent}}" />
                                            <TextBlock
                                                Grid.Row="0"
                                                Grid.Column="2"
                                                Margin="10,0,0,0"
                                                VerticalAlignment="Center"
                                                Foreground="#555555"
                                                Text="{Binding HorizontalGap, RelativeSource={RelativeSource TemplatedParent}, StringFormat='{}{0:P0}'}" />

                                            <TextBlock
                                                Grid.Row="1"
                                                Grid.Column="0"
                                                Margin="0,0,10,0"
                                                VerticalAlignment="Center"
                                                Foreground="#555555"
                                                Text="垂直间距:" />
                                            <Slider
                                                Grid.Row="1"
                                                Grid.Column="1"
                                                Margin="0,5,0,5"
                                                IsSnapToTickEnabled="True"
                                                Maximum="0.1"
                                                Minimum="0"
                                                TickFrequency="0.01"
                                                TickPlacement="BottomRight"
                                                Value="{Binding VerticalGap, RelativeSource={RelativeSource TemplatedParent}}" />
                                            <TextBlock
                                                Grid.Row="1"
                                                Grid.Column="2"
                                                Margin="10,0,0,0"
                                                VerticalAlignment="Center"
                                                Foreground="#555555"
                                                Text="{Binding VerticalGap, RelativeSource={RelativeSource TemplatedParent}, StringFormat='{}{0:P0}'}" />

                                            <TextBlock
                                                Grid.Row="2"
                                                Grid.Column="0"
                                                Margin="0,0,10,0"
                                                VerticalAlignment="Center"
                                                Foreground="#555555"
                                                Text="边距:" />
                                            <Slider
                                                Grid.Row="2"
                                                Grid.Column="1"
                                                Margin="0,5,0,5"
                                                IsSnapToTickEnabled="True"
                                                Maximum="0.1"
                                                Minimum="0"
                                                TickFrequency="0.01"
                                                TickPlacement="BottomRight"
                                                Value="{Binding MarginGap, RelativeSource={RelativeSource TemplatedParent}}" />
                                            <TextBlock
                                                Grid.Row="2"
                                                Grid.Column="2"
                                                Margin="10,0,0,0"
                                                VerticalAlignment="Center"
                                                Foreground="#555555"
                                                Text="{Binding MarginGap, RelativeSource={RelativeSource TemplatedParent}, StringFormat='{}{0:P0}'}" />

                                            <Button
                                                Grid.Row="3"
                                                Grid.Column="1"
                                                Margin="0,10,0,0"
                                                Command="{Binding GenerateWindowsCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                                Content="应用间距设置">
                                                <Button.Style>
                                                    <Style TargetType="Button">
                                                        <Setter Property="Background" Value="#0078D7" />
                                                        <Setter Property="Foreground" Value="White" />
                                                        <Setter Property="Padding" Value="12,6" />
                                                        <Setter Property="BorderThickness" Value="0" />
                                                        <Setter Property="FontSize" Value="13" />
                                                        <Setter Property="Template">
                                                            <Setter.Value>
                                                                <ControlTemplate TargetType="Button">
                                                                    <Border
                                                                        Padding="{TemplateBinding Padding}"
                                                                        Background="{TemplateBinding Background}"
                                                                        CornerRadius="4">
                                                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                                                                    </Border>
                                                                    <ControlTemplate.Triggers>
                                                                        <Trigger Property="IsMouseOver" Value="True">
                                                                            <Setter Property="Background" Value="#106EBE" />
                                                                        </Trigger>
                                                                        <Trigger Property="IsPressed" Value="True">
                                                                            <Setter Property="Background" Value="#005A9E" />
                                                                        </Trigger>
                                                                    </ControlTemplate.Triggers>
                                                                </ControlTemplate>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Style>
                                                </Button.Style>
                                            </Button>
                                        </Grid>

                                        <!--  分隔线  -->
                                        <Border
                                            Margin="0,0,0,15"
                                            BorderBrush="#E0E0E0"
                                            BorderThickness="0,1,0,0" />

                                        <!--  Selected Window Properties  -->
                                        <TextBlock
                                            Margin="0,0,0,10"
                                            FontWeight="Medium"
                                            Foreground="#555555"
                                            Text="{Binding SelectedWindowItem.Title, RelativeSource={RelativeSource TemplatedParent}, StringFormat=当前选中: {0}}" />

                                        <TextBlock
                                            Margin="0,10,0,5"
                                            Foreground="#555555"
                                            Text="位置和大小" />
                                        <Grid Margin="0,5">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="Auto" />
                                            </Grid.RowDefinitions>

                                            <StackPanel
                                                Grid.Row="0"
                                                Grid.Column="0"
                                                Margin="0,0,5,0">
                                                <TextBlock
                                                    Margin="0,0,0,2"
                                                    FontSize="12"
                                                    Foreground="#666666"
                                                    Text="X 坐标" />
                                                <TextBox
                                                    Padding="8,5"
                                                    Background="White"
                                                    BorderBrush="#CCCCCC"
                                                    BorderThickness="1"
                                                    Foreground="#333333"
                                                    Text="{Binding SelectedWindowItem.X, RelativeSource={RelativeSource TemplatedParent}, UpdateSourceTrigger=PropertyChanged}" />
                                            </StackPanel>

                                            <StackPanel
                                                Grid.Row="0"
                                                Grid.Column="1"
                                                Margin="5,0,0,0">
                                                <TextBlock
                                                    Margin="0,0,0,2"
                                                    FontSize="12"
                                                    Foreground="#666666"
                                                    Text="Y 坐标" />
                                                <TextBox
                                                    Padding="8,5"
                                                    Background="White"
                                                    BorderBrush="#CCCCCC"
                                                    BorderThickness="1"
                                                    Foreground="#333333"
                                                    Text="{Binding SelectedWindowItem.Y, RelativeSource={RelativeSource TemplatedParent}, UpdateSourceTrigger=PropertyChanged}" />
                                            </StackPanel>

                                            <StackPanel
                                                Grid.Row="1"
                                                Grid.Column="0"
                                                Margin="0,10,5,0">
                                                <TextBlock
                                                    Margin="0,0,0,2"
                                                    FontSize="12"
                                                    Foreground="#666666"
                                                    Text="宽度" />
                                                <TextBox
                                                    Padding="8,5"
                                                    Background="White"
                                                    BorderBrush="#CCCCCC"
                                                    BorderThickness="1"
                                                    Foreground="#333333"
                                                    Text="{Binding SelectedWindowItem.Width, RelativeSource={RelativeSource TemplatedParent}, UpdateSourceTrigger=PropertyChanged}" />
                                            </StackPanel>

                                            <StackPanel
                                                Grid.Row="1"
                                                Grid.Column="1"
                                                Margin="5,10,0,0">
                                                <TextBlock
                                                    Margin="0,0,0,2"
                                                    FontSize="12"
                                                    Foreground="#666666"
                                                    Text="高度" />
                                                <TextBox
                                                    Padding="8,5"
                                                    Background="White"
                                                    BorderBrush="#CCCCCC"
                                                    BorderThickness="1"
                                                    Foreground="#333333"
                                                    Text="{Binding SelectedWindowItem.Height, RelativeSource={RelativeSource TemplatedParent}, UpdateSourceTrigger=PropertyChanged}" />
                                            </StackPanel>
                                        </Grid>

                                        <TextBlock
                                            Margin="0,15,0,5"
                                            Foreground="#555555"
                                            Text="窗口类型" />
                                        <ComboBox
                                            Margin="0,5,0,10"
                                            Padding="8,5"
                                            Background="White"
                                            BorderBrush="#CCCCCC"
                                            BorderThickness="1"
                                            Foreground="#333333"
                                            ItemsSource="{Binding WindowTypes, RelativeSource={RelativeSource TemplatedParent}}"
                                            SelectedItem="{Binding SelectedWindowItem.WindowType, RelativeSource={RelativeSource TemplatedParent}}">
                                        </ComboBox>

                                        <TextBlock
                                            Margin="0,15,0,5"
                                            Foreground="#555555"
                                            Text="显示选项" />
                                        <TextBlock
                                            Margin="0,15,0,5"
                                            Foreground="#555555"
                                            Text="Z顺序" />
                                        <Grid Margin="0,5">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="Auto" />
                                            </Grid.ColumnDefinitions>

                                            <Slider
                                                Grid.Column="0"
                                                VerticalAlignment="Center"
                                                Maximum="10"
                                                Minimum="0"
                                                Value="{Binding SelectedWindowItem.ZOrder, RelativeSource={RelativeSource TemplatedParent}}" />
                                            <Button
                                                Grid.Column="1"
                                                Margin="5,0,0,0"
                                                Command="{Binding BringToFrontCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                                Content="↑">
                                                <Button.Style>
                                                    <Style TargetType="Button">
                                                        <Setter Property="Background" Value="Transparent" />
                                                        <Setter Property="Foreground" Value="#333333" />
                                                        <Setter Property="Width" Value="32" />
                                                        <Setter Property="Height" Value="32" />
                                                        <Setter Property="BorderThickness" Value="0" />
                                                        <Setter Property="Template">
                                                            <Setter.Value>
                                                                <ControlTemplate TargetType="Button">
                                                                    <Border Background="{TemplateBinding Background}" CornerRadius="16">
                                                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                                                                    </Border>
                                                                    <ControlTemplate.Triggers>
                                                                        <Trigger Property="IsMouseOver" Value="True">
                                                                            <Setter Property="Background" Value="#E5E5E5" />
                                                                            <Setter Property="Foreground" Value="#000000" />
                                                                        </Trigger>
                                                                    </ControlTemplate.Triggers>
                                                                </ControlTemplate>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Style>
                                                </Button.Style>
                                            </Button>
                                            <Button
                                                Grid.Column="2"
                                                Margin="5,0,0,0"
                                                Command="{Binding SendToBackCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                                Content="↓">
                                                <Button.Style>
                                                    <Style TargetType="Button">
                                                        <Setter Property="Background" Value="Transparent" />
                                                        <Setter Property="Foreground" Value="#333333" />
                                                        <Setter Property="Width" Value="32" />
                                                        <Setter Property="Height" Value="32" />
                                                        <Setter Property="BorderThickness" Value="0" />
                                                        <Setter Property="Template">
                                                            <Setter.Value>
                                                                <ControlTemplate TargetType="Button">
                                                                    <Border Background="{TemplateBinding Background}" CornerRadius="16">
                                                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                                                                    </Border>
                                                                    <ControlTemplate.Triggers>
                                                                        <Trigger Property="IsMouseOver" Value="True">
                                                                            <Setter Property="Background" Value="#E5E5E5" />
                                                                            <Setter Property="Foreground" Value="#000000" />
                                                                        </Trigger>
                                                                    </ControlTemplate.Triggers>
                                                                </ControlTemplate>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Style>
                                                </Button.Style>
                                            </Button>
                                        </Grid>

                                        <!--  图像窗口特有设置  -->
                                        <StackPanel>
                                            <TextBlock
                                                Margin="0,15,0,5"
                                                Foreground="#555555"
                                                Text="图像设置" />
                                            <CheckBox
                                                Margin="0,8,0,8"
                                                Content="显示叠加层"
                                                Foreground="#555555"
                                                IsChecked="{Binding SelectedWindowItem.DisplayData.ShowOverlay, RelativeSource={RelativeSource TemplatedParent}}" />

                                        </StackPanel>
                                    </StackPanel>
                                </ScrollViewer>

                                <!--  底部操作按钮  -->
                                <Border
                                    Grid.Row="2"
                                    Padding="12"
                                    Background="#F5F5F5"
                                    BorderBrush="#E0E0E0"
                                    BorderThickness="0,1,0,0"
                                    CornerRadius="0,0,6,6">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>

                                        <Button
                                            Grid.Column="0"
                                            Margin="0,0,8,0"
                                            Padding="8"
                                            Background="#F0F0F0"
                                            BorderBrush="#E0E0E0"
                                            BorderThickness="1"
                                            Command="{Binding CancelCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                            Content="取消"
                                            Foreground="#333333" />

                                        <Button
                                            Grid.Column="1"
                                            Padding="12,8"
                                            Background="#0078D7"
                                            BorderThickness="0"
                                            Command="{Binding ApplyConfigurationCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                            Content="应用"
                                            Foreground="White" />
                                    </Grid>
                                </Border>
                            </Grid>
                        </Border>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>

